<!DOCTYPE html>
<html>
<head>
  <title>Image Editor</title>
  <style>
    #canvas {
      border: 1px solid #000;  
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

  <h1>Image Editor</h1>

  <input type="file" id="upload">

  <canvas id="canvas" width="800" height="600"></canvas>

  <button id="save">Save</button>

  <a id="download" style="display:none">Download</a>

  <script src="fabric.js"></script>

  <script>
    let canvas = new fabric.Canvas('canvas');
    let currentImages = [];

    document.getElementById('upload').addEventListener('change', handleUpload);

    function handleUpload(e) {

      var file = e.target.files[0];  

      var reader = new FileReader();
      reader.onload = function(event) {

        var img = new fabric.Image(event.target.result, {
          left: 0,
          top: 0 
        });

        currentImages.push(img);

        canvas.add(img);
        canvas.renderAll();  
      }
      reader.readAsDataURL(file);

    }

    document.getElementById('save').addEventListener('click', handleSave);

    function handleSave() {

      var dataURL = canvas.toDataURL();  

      var link = document.getElementById('download');
      link.href = dataURL;
      link.download = 'image.png';
      link.click();

    }

  </script>

</body>
</html>